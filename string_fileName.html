<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Examples</title>
  </head>
  <body>
    <form>
      帳號<input type="text" name="memId" /><br />
      密碼<input type="password" name="memPsw" /><br />
      大頭貼<input type="file" name="header" id="header" />
      <span>檔案類型錯誤</span>
      <br />
      <input type="button" value="確定加入" />
    </form>

    <script type="text/javascript">
      window.addEventListener(
        "load",
        function() {
          //.......header.onchange
          document.getElementById("header").onchange = function(e) {
            var allowedExt = ["png", "gif", "jpg"];
            var fileStr = e.target.value;
            //取得主檔名
            const point = fileStr.lastIndexOf(".");
            //取得副檔名
            const viceFileName = fileStr.substr(point + 1);
            //檢查是否為被允許的檔案類型
            if (allowedExt.indexOf(viceFileName) == -1) {
              e.target.value = null;
            }
          };
        },
        false
      );
    </script>
  </body>
</html>
